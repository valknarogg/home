# ===================================================================
# KOMPOSE - Root Configuration
# ===================================================================
# Non-sensitive shared configuration for all stacks
# Sensitive values should be in secrets.env (not committed to git)
# ===================================================================

# -------------------------------------------------------------------
# Domain Configuration
# -------------------------------------------------------------------
# Domain configuration is centralized in domain.env
# To change your domain, edit the ROOT_DOMAIN variable in domain.env
# All service hostnames are automatically generated from that file

# Import domain configuration
# This sets ROOT_DOMAIN and all SUBDOMAIN_* variables
include domain.env

# Build Traefik hostnames from domain configuration
# Format: ${SUBDOMAIN_<SERVICE>}.${ROOT_DOMAIN}
TRAEFIK_HOST_PROXY=${SUBDOMAIN_PROXY}.${ROOT_DOMAIN}
TRAEFIK_HOST_AUTH=${SUBDOMAIN_AUTH}.${ROOT_DOMAIN}
TRAEFIK_HOST_AUTO=${SUBDOMAIN_AUTO}.${ROOT_DOMAIN}
TRAEFIK_HOST_BLOG=${SUBDOMAIN_BLOG}.${ROOT_DOMAIN}
TRAEFIK_HOST_CHAIN=${SUBDOMAIN_CHAIN}.${ROOT_DOMAIN}
TRAEFIK_HOST_CHAT=${SUBDOMAIN_CHAT}.${ROOT_DOMAIN}
TRAEFIK_HOST_MAIL=${SUBDOMAIN_MAIL}.${ROOT_DOMAIN}
TRAEFIK_HOST_CODE=${SUBDOMAIN_CODE}.${ROOT_DOMAIN}
TRAEFIK_HOST_DASH=${SUBDOMAIN_DASH}.${ROOT_DOMAIN}
TRAEFIK_HOST_DATA=${SUBDOMAIN_DATA}.${ROOT_DOMAIN}
TRAEFIK_HOST_DOCK=${SUBDOMAIN_DOCK}.${ROOT_DOMAIN}
TRAEFIK_HOST_DOCS=${SUBDOMAIN_DOCS}.${ROOT_DOMAIN}
TRAEFIK_HOST_HOME=${SUBDOMAIN_HOME}.${ROOT_DOMAIN}
TRAEFIK_HOST_LINK=${SUBDOMAIN_LINK}.${ROOT_DOMAIN}
TRAEFIK_HOST_NEWS=${SUBDOMAIN_NEWS}.${ROOT_DOMAIN}
TRAEFIK_HOST_SEXY=${SUBDOMAIN_SEXY}.${ROOT_DOMAIN}
TRAEFIK_HOST_TRACE=${SUBDOMAIN_TRACE}.${ROOT_DOMAIN}
TRAEFIK_HOST_TRACK=${SUBDOMAIN_TRACK}.${ROOT_DOMAIN}
TRAEFIK_HOST_VAULT=${SUBDOMAIN_VAULT}.${ROOT_DOMAIN}
TRAEFIK_HOST_VPN=${SUBDOMAIN_VPN}.${ROOT_DOMAIN}
TRAEFIK_HOST_OAUTH2=${SUBDOMAIN_OAUTH2}.${ROOT_DOMAIN}

# -------------------------------------------------------------------
# Network Configuration
# -------------------------------------------------------------------
NETWORK_NAME=kompose

# -------------------------------------------------------------------
# Database Connection Settings (non-sensitive)
# -------------------------------------------------------------------
DB_USER=valknar
DB_PORT=5432
DB_HOST=core-postgres

# NOTE: DB_PASSWORD is in secrets.env

# -------------------------------------------------------------------
# Admin Settings (non-sensitive)
# -------------------------------------------------------------------
ADMIN_EMAIL=valknar@${ROOT_DOMAIN}

# NOTE: ADMIN_PASSWORD is in secrets.env

# -------------------------------------------------------------------
# Email/SMTP Settings (non-sensitive)
# -------------------------------------------------------------------
EMAIL_TRANSPORT=smtp
EMAIL_FROM=hi@${ROOT_DOMAIN}
EMAIL_SMTP_HOST=smtp.ionos.de
EMAIL_SMTP_PORT=465
EMAIL_SMTP_USER=hi@${ROOT_DOMAIN}

# NOTE: EMAIL_SMTP_PASSWORD is in secrets.env

# -------------------------------------------------------------------
# Default Settings (can be overridden in stack .env files)
# -------------------------------------------------------------------
# Enable Traefik integration by default
TRAEFIK_ENABLED=true

# Default timezone for all containers
# Can be overridden in individual stack .env files if needed
# Common values: Europe/Amsterdam, Europe/Berlin, America/New_York, etc.
TIMEZONE=Europe/Amsterdam

# -------------------------------------------------------------------
# Configuration Notes
# -------------------------------------------------------------------
# 1. Domain Configuration:
#    - All domain settings are in domain.env
#    - Change ROOT_DOMAIN there to update all services
#
# 2. Secrets Management:
#    - All sensitive data must be in secrets.env
#    - Generate secrets: ./kompose.sh secrets generate
#    - Never commit secrets.env to git
#
# 3. Stack-Specific Settings:
#    - Each stack has its own .env file
#    - Stack .env files inherit from this root .env
#    - Stack settings override root settings
#
# 4. Timezone:
#    - Default is Europe/Amsterdam
#    - Override per-stack if needed
#
# ===================================================================
