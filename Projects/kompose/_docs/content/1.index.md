---
title: Introduction to Kompose
description: Learn about Kompose, your Docker Compose Symphony Conductor for managing multiple stacks with style and grace.
---

**Kompose** is a powerful Bash orchestration tool for managing multiple Docker Compose stacks with style and grace. Think of it as a conductor for your Docker symphony - each stack plays its part, and Kompose makes sure they're all in harmony.

## Why Kompose?

:icon{name="lucide:target"} **One Command to Rule Them All** - Manage dozens of stacks with a single, intuitive CLI

:icon{name="lucide:server"} **REST API Server** - Control stacks remotely via HTTP JSON API - perfect for web dashboards

:icon{name="lucide:git-branch"} **Git Tag Deployments** - Deploy specific versions with automated tagging and n8n workflows

:icon{name="lucide:database"} **Database Wizardry** - Export, import, backup, and restore PostgreSQL databases with ease

:icon{name="lucide:webhook"} **Hook System** - Extend functionality with custom pre/post operation hooks

:icon{name="lucide:network"} **Network Maestro** - Smart network management with CLI overrides

:icon{name="lucide:key"} **Environment Juggler** - Override any environment variable on the fly

:icon{name="lucide:palette"} **Beautiful Output** - Color-coded logs and status indicators

:icon{name="lucide:flask-conical"} **Dry-Run Mode** - Test changes before applying them

## Core Features

### :icon{name="lucide:music"} Stack Management
- **Pattern-based selection**: Target stacks with globs, comma-separated lists, or wildcards
- **Bulk operations**: Execute commands across multiple stacks simultaneously
- **Status monitoring**: Visual feedback with color-coded success/failure indicators
- **Smart filtering**: Include/exclude stacks with flexible pattern matching
- **Complete lifecycle**: up, down, restart, logs, pull, build, deploy, validate

### :icon{name="lucide:globe"} REST API Server ⭐ NEW
- **HTTP JSON API**: Full REST API for remote stack management
- **Auto-detection**: Automatically selects Python 3, socat, or netcat
- **CORS Support**: Ready for web frontend integration
- **Complete Coverage**: All Kompose features accessible via API
- **Production Ready**: Robust error handling, logging, and security
- **Easy Integration**: Client examples for JavaScript, TypeScript, Python

### :icon{name="lucide:tag"} Git Tag Deployments
- **Semantic Versioning**: Create and manage deployment tags (e.g., `frontend-v1.2.3-prod`)
- **Environment Targeting**: Deploy to dev, staging, or production
- **n8n Integration**: Trigger automated deployment workflows
- **Rollback Support**: Easy rollback to previous versions
- **Status Tracking**: Monitor deployment progress

### :icon{name="lucide:hard-drive"} Database Operations
- **Automated backups**: Export PostgreSQL databases with timestamped dumps
- **Smart imports**: Auto-detect latest dumps or specify exact files
- **Drop & recreate**: Safe database import with connection termination
- **Cleanup utilities**: Keep only the latest dumps, remove old backups
- **Multi-database**: Manage multiple databases (kompose, n8n, semaphore, gitea)
- **Shell access**: Interactive PostgreSQL shell for each database
- **Migrations**: Run database migrations and schema updates

### :icon{name="lucide:code-2"} Extensibility
- **Custom hooks**: Define `pre_db_export`, `post_db_export`, `pre_db_import`, `post_db_import`
- **Stack-specific logic**: Each stack can have unique operational requirements
- **Environment access**: Hooks inherit all environment variables
- **Dry-run aware**: Test hook execution without side effects

### :icon{name="lucide:network"} Network Management
- **Unified network**: All stacks communicate on a single Docker network
- **CLI overrides**: Change network on-the-fly without editing configs
- **Traefik integration**: Seamless reverse proxy setup with proper network awareness
- **Multi-network support**: Special stacks can have additional internal networks

### :icon{name="lucide:settings"} Environment Control
- **Global overrides**: Set environment variables via CLI flags
- **Layered configs**: Root `.env` + stack `.env` + CLI overrides
- **Precedence rules**: CLI > Stack > Root configuration hierarchy
- **Real-time changes**: No need to edit files for temporary overrides

## Quick Start

### Basic Stack Operations
```bash
# Start all stacks
./kompose.sh up

# Start specific stack
./kompose.sh up core

# View logs from specific stacks
./kompose.sh logs chain -f

# Stop all stacks
./kompose.sh down

# Restart a stack
./kompose.sh restart home

# Show status of all stacks
./kompose.sh status
```

### REST API Server
```bash
# Start API server (localhost only)
./kompose.sh api start

# Start on custom port
./kompose.sh api start 9000

# Check server status
./kompose.sh api status

# Test the API
curl http://localhost:8080/api/health | jq .
```

### Database Operations
```bash
# Backup all databases
./kompose.sh db backup

# Backup specific database
./kompose.sh db backup -d postgres

# List backups
./kompose.sh db list

# Restore from backup
./kompose.sh db restore -f backup.sql

# Database shell
./kompose.sh db shell -d kompose
```

### Git Tag Deployments
```bash
# Create and push deployment tag
./kompose.sh tag create -s frontend -e dev -v 1.2.3

# Deploy with tag creation
./kompose.sh tag deploy -s backend -e staging -v 2.0.0

# List all tags
./kompose.sh tag list

# Rollback to previous version
./kompose.sh tag rollback -s api -e prod -v 1.0.5
```

## Architecture

Kompose manages stacks in a simple directory structure:

```
kompose/
├── kompose.sh              # Main orchestration script
├── kompose-api-server.sh   # REST API server
├── core/                   # Core services stack
│   ├── compose.yaml
│   └── .env
├── auth/                   # Authentication stack
│   ├── compose.yaml
│   └── .env
├── chain/                  # Automation stack
│   ├── compose.yaml
│   └── .env
├── home/                   # Smart home stack
│   ├── compose.yaml
│   └── .env
└── ...                     # Additional stacks
```

Each stack:
- Lives in its own directory
- Has a `compose.yaml` (or `docker-compose.yml`)
- Can have its own `.env` file
- Can define custom hooks in `hooks.sh`
- Shares a common Docker network (default: `traefik-net`)

## Available Stacks

Kompose comes with a curated collection of production-ready stacks:

| Stack | Description |
|-------|-------------|
| **core** | Foundation services (MQTT, Redis, PostgreSQL) |
| **auth** | Authentication (Keycloak SSO, OAuth2 Proxy) |
| **kmps** | Kompose Management Portal (User & SSO Admin) |
| **chain** | Automation Platform (n8n, Semaphore/Ansible) |
| **home** | Smart Home (Home Assistant, Matter, Zigbee) |
| **vpn** | VPN Access (WireGuard with wg-easy) |
| **chat** | Notifications (Gotify) |
| **vault** | Password Manager (Vaultwarden) |
| **proxy** | Reverse Proxy (Traefik) |
| **+custom** | Your custom stacks |
| **+utility** | System-level utility services |

## Use Cases

### 1. Development Environment
```bash
# Start development stacks
./kompose.sh up core auth chain

# Check logs
./kompose.sh logs chain -f

# Restart after code changes
./kompose.sh restart chain
```

### 2. Production Deployment
```bash
# Deploy tagged version
./kompose.sh tag deploy -s api -e prod -v 2.1.0

# Monitor logs
./kompose.sh api logs

# Quick rollback if needed
./kompose.sh tag rollback -s api -e prod -v 2.0.8
```

### 3. Database Management
```bash
# Daily backup
./kompose.sh db backup --compress

# Before major update
./kompose.sh db backup -d kompose -t

# After update fails
./kompose.sh db restore -f latest-backup.sql
```

### 4. Remote Management
```bash
# Start API server
./kompose.sh api start

# From web dashboard or scripts
curl -X POST http://localhost:8080/api/stacks/home/restart
curl http://localhost:8080/api/stacks/core/logs | jq -r '.data.logs'
```

## Documentation Sections

### Getting Started
- [Installation Guide](/installation) - Set up Kompose on your system
- [Quick Start](/guide/quick-start) - Get up and running in minutes

### User Guide
- [Stack Management](/guide/stack-management) - Managing multiple stacks
- [API Server](/guide/api-server) - Remote control via REST API
- [Database Operations](/guide/database) - Backup and restore databases
- [Hooks System](/guide/hooks) - Extend with custom hooks
- [Configuration](/guide/configuration) - Configure Kompose and stacks
- [Network Architecture](/guide/network) - Understanding networking
- [Dashboard Setup](/guide/dashboard-setup) - Build a web dashboard
- [Troubleshooting](/guide/troubleshooting) - Common issues and solutions

### Stack Reference
- [All Stacks](/stacks) - Detailed documentation for each stack

### Reference
- [CLI Reference](/reference/cli) - Complete command reference
- [Environment Variables](/reference/environment) - All configuration options
- [Quick Reference](/reference/quick-reference) - Cheat sheet for common tasks

## What's New

### Latest Updates
- ✨ **REST API Server**: Complete HTTP JSON API for remote management
- ✨ **Python HTTP Server**: Auto-detection with Python 3, socat, or netcat fallback
- ✨ **Enhanced Security**: Localhost-only default, comprehensive security docs
- ✨ **Test Suite**: Automated testing for API endpoints
- ✨ **Dashboard Guide**: Complete guide for building web dashboards
- ✨ **Improved Logging**: Better request logging and error handling
- ✨ **CORS Support**: Ready for modern web frontends

See [CHANGELOG.md](/CHANGELOG.md) for complete version history.

## Community & Support

- **Documentation**: Comprehensive guides and references
- **Examples**: Production-ready integration examples
- **Issues**: Report bugs or request features on GitHub
- **Discussions**: Share your setups and ask questions

## License

Kompose is open source software. See [LICENSE](/LICENSE) for details.

---

Ready to get started? Check out the [Quick Start Guide](/guide/quick-start) or [Installation Instructions](/installation).
