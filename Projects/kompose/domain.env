# ===================================================================
# KOMPOSE - Production Domain Configuration
# ===================================================================
# This file is for PRODUCTION DEPLOYMENT
# Uses real domain names with Traefik routing and SSL
# ===================================================================

# -------------------------------------------------------------------
# Root Domain (Production)
# -------------------------------------------------------------------
ROOT_DOMAIN=pivoine.art

# -------------------------------------------------------------------
# Subdomain Configuration (Production)
# -------------------------------------------------------------------
# Subdomains will be used with Traefik routing
# Services accessible as https://subdomain.pivoine.art

# Core Infrastructure
SUBDOMAIN_PROXY=traefik
SUBDOMAIN_AUTH=auth

# Development & Automation
SUBDOMAIN_CODE=code              # Gitea
SUBDOMAIN_CHAIN=chain            # n8n
SUBDOMAIN_AUTO=auto              # Semaphore

# Content & Communication
SUBDOMAIN_BLOG=blog
SUBDOMAIN_DOCS=docs
SUBDOMAIN_NEWS=news
SUBDOMAIN_CHAT=chat              # Gotify
SUBDOMAIN_MAIL=mail              # Mailhog

# Data & Analytics
SUBDOMAIN_DATA=data
SUBDOMAIN_DASH=dash
SUBDOMAIN_TRACK=track            # Umami
SUBDOMAIN_TRACE=trace

# Applications
SUBDOMAIN_HOME=home              # Home Assistant
SUBDOMAIN_SEXY=sexy              # Directus
SUBDOMAIN_VAULT=vault            # Vaultwarden
SUBDOMAIN_LINK=link
SUBDOMAIN_DOCK=dock
SUBDOMAIN_MANAGE=manage          # KMPS

# Utilities
SUBDOMAIN_VPN=vpn
SUBDOMAIN_OAUTH2=oauth           # OAuth2 Proxy
SUBDOMAIN_ZIGBEE=zigbee          # Zigbee2MQTT

# -------------------------------------------------------------------
# Base Configuration
# -------------------------------------------------------------------
BASE_DOMAIN=${ROOT_DOMAIN}

# -------------------------------------------------------------------
# SSL/TLS Configuration (Production)
# -------------------------------------------------------------------
ACME_EMAIL=valknar@pivoine.art√pivoine.art

# -------------------------------------------------------------------
# Traefik Host Configuration (Production)
# -------------------------------------------------------------------
# Build full domain names from subdomain + root domain
# These are used in Traefik labels for routing

TRAEFIK_HOST=${SUBDOMAIN_AUTH}.${ROOT_DOMAIN}
N8N_TRAEFIK_HOST=${SUBDOMAIN_CHAIN}.${ROOT_DOMAIN}
SEMAPHORE_TRAEFIK_HOST=${SUBDOMAIN_AUTO}.${ROOT_DOMAIN}
TRAEFIK_HOST_HOME=${SUBDOMAIN_HOME}.${ROOT_DOMAIN}
TRAEFIK_HOST_ZIGBEE=${SUBDOMAIN_ZIGBEE}.${ROOT_DOMAIN}
OAUTH2_PROXY_HOST=${SUBDOMAIN_OAUTH2}.${ROOT_DOMAIN}

# -------------------------------------------------------------------
# Production Notes
# -------------------------------------------------------------------
# 1. All services routed through Traefik
# 2. Automatic SSL via Let's Encrypt
# 3. Services accessible at https://subdomain.pivoine.art
# 4. OAuth2 Proxy provides SSO for protected services
# 5. Database connections use container names
#
# To use this configuration:
#   cp domain.env.production domain.env
#   cp .env.production .env
#   ./kompose.sh prod:start
# ===================================================================

# -------------------------------------------------------------------
# Watch Stack - Monitoring & Observability Traefik Hosts
# -------------------------------------------------------------------
WATCH_TRAEFIK_HOST_PROMETHEUS=${SUBDOMAIN_PROMETHEUS}.${ROOT_DOMAIN}
WATCH_TRAEFIK_HOST_GRAFANA=${SUBDOMAIN_GRAFANA}.${ROOT_DOMAIN}
WATCH_TRAEFIK_HOST_LOKI=${SUBDOMAIN_LOKI}.${ROOT_DOMAIN}
WATCH_TRAEFIK_HOST_ALERTMANAGER=${SUBDOMAIN_ALERTMANAGER}.${ROOT_DOMAIN}

# -------------------------------------------------------------------
# Code Stack - Gitea Traefik Host
# -------------------------------------------------------------------
CODE_GITEA_TRAEFIK_HOST=${SUBDOMAIN_CODE}.${ROOT_DOMAIN}

# -------------------------------------------------------------------
# Auth Stack - OAuth2 Proxy Traefik Host
# -------------------------------------------------------------------
AUTH_OAUTH2_PROXY_HOST=${SUBDOMAIN_OAUTH2}.${ROOT_DOMAIN}

# -------------------------------------------------------------------
# VPN Stack - Traefik Host
# -------------------------------------------------------------------
VPN_TRAEFIK_HOST=${SUBDOMAIN_VPN}.${ROOT_DOMAIN}

# -------------------------------------------------------------------
# Additional Stack Traefik Hosts
# -------------------------------------------------------------------
BLOG_TRAEFIK_HOST=${SUBDOMAIN_BLOG}.${ROOT_DOMAIN}
SEXY_TRAEFIK_HOST=${SUBDOMAIN_SEXY}.${ROOT_DOMAIN}
NEWS_TRAEFIK_HOST=${SUBDOMAIN_NEWS}.${ROOT_DOMAIN}
LINK_TRAEFIK_HOST=${SUBDOMAIN_LINK}.${ROOT_DOMAIN}
TRACK_TRAEFIK_HOST=${SUBDOMAIN_TRACK}.${ROOT_DOMAIN}
VAULT_TRAEFIK_HOST=${SUBDOMAIN_VAULT}.${ROOT_DOMAIN}
MESSAGING_TRAEFIK_HOST_CHAT=${SUBDOMAIN_CHAT}.${ROOT_DOMAIN}
MESSAGING_TRAEFIK_HOST_MAIL=${SUBDOMAIN_MAIL}.${ROOT_DOMAIN}
CHAIN_N8N_TRAEFIK_HOST=${SUBDOMAIN_CHAIN}.${ROOT_DOMAIN}
CHAIN_SEMAPHORE_TRAEFIK_HOST=${SUBDOMAIN_AUTO}.${ROOT_DOMAIN}

