# =================================================================
# HOME Stack Configuration
# =================================================================
# Smart Home services with Home Assistant, Matter, and MQTT integration

# Stack identification
COMPOSE_PROJECT_NAME=home
NETWORK_NAME=kompose
TIMEZONE=Europe/Amsterdam

# -------------------------------------------------------------------
# Home Assistant Configuration
# -------------------------------------------------------------------
HOMEASSISTANT_IMAGE=ghcr.io/home-assistant/home-assistant:stable
HOMEASSISTANT_PORT=8123

# -------------------------------------------------------------------
# Matter Server Configuration
# -------------------------------------------------------------------
MATTER_SERVER_IMAGE=ghcr.io/home-assistant-libs/python-matter-server:stable
# Matter uses host networking for mDNS and commissioning
# Port 5580 is used for the Matter Server API

# -------------------------------------------------------------------
# Zigbee2MQTT Configuration (Optional)
# -------------------------------------------------------------------
# Enable with: docker compose --profile zigbee up -d
ZIGBEE2MQTT_IMAGE=koenkk/zigbee2mqtt:latest
ZIGBEE2MQTT_PORT=8080

# Zigbee adapter device (uncomment and adjust as needed)
# Common devices: /dev/ttyUSB0, /dev/ttyACM0, /dev/ttyAMA0
# ZIGBEE_DEVICE=/dev/ttyUSB0

# -------------------------------------------------------------------
# ESPHome Configuration (Optional)
# -------------------------------------------------------------------
# Enable with: docker compose --profile esphome up -d
ESPHOME_IMAGE=ghcr.io/esphome/esphome:stable
# ESPHome uses host networking for device discovery (port 6052)

# -------------------------------------------------------------------
# MQTT Integration (uses core stack MQTT)
# -------------------------------------------------------------------
# MQTT connection details for Home Assistant configuration:
# Host: core-mqtt (container name from core stack)
# Port: 1883
# Username: (if configured in core stack)
# Password: (if configured in core stack)
# 
# To enable MQTT in Home Assistant:
# 1. Go to Settings > Devices & Services
# 2. Add Integration > MQTT
# 3. Configure with: Broker: core-mqtt, Port: 1883

# -------------------------------------------------------------------
# Traefik Configuration
# -------------------------------------------------------------------
TRAEFIK_ENABLED=true
TRAEFIK_HOST_HOME=${TRAEFIK_HOST_HOME:-home.localhost}
TRAEFIK_HOST_ZIGBEE=${TRAEFIK_HOST_ZIGBEE:-zigbee.localhost}

# -------------------------------------------------------------------
# Device Access Configuration
# -------------------------------------------------------------------
# USB device paths for Zigbee/Z-Wave adapters
# Uncomment and adjust based on your hardware:
# USB_DEVICE_ZIGBEE=/dev/ttyUSB0
# USB_DEVICE_ZWAVE=/dev/ttyACM0

# -------------------------------------------------------------------
# Integration Notes
# -------------------------------------------------------------------
# 1. MQTT: Connects to core-mqtt from the core stack
# 2. Matter: Uses network_mode: host for mDNS and commissioning
# 3. Philips Hue: Native integration in Home Assistant (auto-discovery)
# 4. Zigbee: Optional via Zigbee2MQTT with USB adapter
# 5. ESPHome: Optional for ESP8266/ESP32 device management
#
# To enable optional services:
# - Zigbee: docker compose --profile zigbee up -d
# - ESPHome: docker compose --profile esphome up -d
# - Both: docker compose --profile zigbee --profile esphome up -d
